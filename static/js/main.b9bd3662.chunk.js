(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{229:function(e,t,n){e.exports=n(424)},237:function(e,t,n){},387:function(e,t,n){},422:function(e,t,n){},424:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),i=n(15),r=n.n(i),c=(n(237),n(150)),l=n(151),s=n(154),u=n(152),d=n(155),m=n(57),g=n.n(m),p=n(42),f=n.n(p),h=n(41),v=n.n(h),w={container:{height:"100vh"},wrap:{margin:"0 auto",maxWidth:"800px",display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",height:"100%"},http:{display:"flex",alignItems:"center",width:"100%"},input:{width:"100%",borderRadius:4,backgroundColor:"white",border:"1px solid #ced4da",fontSize:16,padding:"7px 12px",margin:"0 0.6rem"},button:{width:"10%",alignSelf:"stretch",color:"white",backgroundColor:"black"},local:{display:"flex",alignItems:"center"}},E=function(e){var t=e.onButtonSubmit,n=e.onInputchange,a=e.onUploadImage,i=e.value;return o.a.createElement("div",{style:w.container},o.a.createElement("div",{style:w.wrap},o.a.createElement(v.a,{variant:"display1",align:"center"},"Recognize over 11,000 different concepts including objects, themes, moods, and more."),o.a.createElement("div",{style:w.http},o.a.createElement(g.a,{style:w.input,value:i,InputProps:{disableUnderline:!0},onChange:n}),o.a.createElement(f.a,{color:"primary",style:w.button,onClick:t},"Submit")),o.a.createElement("div",{style:w.local},o.a.createElement(v.a,{variant:"title",align:"left"},"TRY YOUR OWN PICTURE:"),o.a.createElement("input",{style:{display:"none"},accept:"image/*",id:"contained-button-file",multiple:!0,type:"file",onChange:a}),o.a.createElement("label",{htmlFor:"contained-button-file"},o.a.createElement(f.a,{variant:"contained",component:"span",style:{marginLeft:"0.6rem"}},"Upload")))))},b=n(14),y={container:{display:"flex",flexDirection:"column"},paper:{overflowY:"auto"}},R=function(e){var t=e.values,n=e.toHomePage;return o.a.createElement("div",{style:y.container},o.a.createElement(b.b,{style:y.paper},o.a.createElement(b.c,null,o.a.createElement(b.f,null,o.a.createElement(b.g,null,o.a.createElement(b.e,null,"Predicted Concept"),o.a.createElement(b.e,{numeric:!0},"Probability "))),o.a.createElement(b.d,null,t.map(function(e){return o.a.createElement(b.g,{key:e.ingredient},o.a.createElement(b.e,null,e.ingredient.toUpperCase()),o.a.createElement(b.e,{numeric:!0},e.probability))})))),o.a.createElement(b.a,{fullWidth:!0,size:"large",variant:"contained",color:"primary",onClick:function(){return n(!1)}},"TRY YOUR OWN IMAGE"))},k=(n(387),function(e){var t=e.image;return o.a.createElement("div",{className:"image-container"},o.a.createElement("img",{src:t,alt:"pic",width:"100%"}))}),I=n(58),S=n.n(I),x=(n(422),new S.a.App({apiKey:"bfded7855d294034af402fc43b764606"})),C=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).results=function(e){return e.outputs[0].data.concepts.map(function(e){return{ingredient:e.name,probability:e.value}})},e.array=function(t){e.setState({values:t})},e.onInputchange=function(t){e.setState({input:t.target.value})},e.toHomePage=function(t){e.setState({showResults:t})},e.onButtonSubmit=function(){e.setState({image:e.state.input}),x.models.initModel({id:S.a.GENERAL_MODEL,version:"aa7f35c01e0642fda5cf400f543e7c40"}).then(function(t){return t.predict(e.state.image)}).then(function(t){var n=t.outputs[0].data.concepts;console.log(n),e.array(e.results(t)),t&&e.setState({showResults:!0})})},e.onUploadImage=function(t){var n=document.createElement("canvas"),a=n.getContext("2d"),o=new Image;o.onload=function(){n.width=o.width,n.height=o.height,a.drawImage(o,0,0);var t=n.toDataURL("image/jpeg",.1),i=t.split("data:image/jpeg;base64,");x.models.predict(S.a.GENERAL_MODEL,{base64:i[1]}).then(function(n){n&&(e.setState({showResults:!0}),e.setState({image:t})),e.array(e.results(n))})},o.src=URL.createObjectURL(t.target.files[0])},e.state={input:"https://clarifai.com/cms-assets/20180320225536/general-005.jpg",image:"",values:[],showResults:!1},e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){console.log(this.state);var e=this.state,t=e.values,n=e.image,a=e.showResults;return o.a.createElement("div",{className:"app"},!1===a?o.a.createElement(E,{value:this.state.input,onButtonSubmit:this.onButtonSubmit,onInputchange:this.onInputchange,onUploadImage:this.onUploadImage}):o.a.createElement("div",{className:"results"},o.a.createElement(k,{image:n}),o.a.createElement(R,{toHomePage:this.toHomePage,values:t})))}}]),t}(a.Component),U=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function j(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(o.a.createElement(C,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/foodrecognition",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/foodrecognition","/service-worker.js");U?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):j(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):j(e)})}}()}},[[229,2,1]]]);
//# sourceMappingURL=main.b9bd3662.chunk.js.map